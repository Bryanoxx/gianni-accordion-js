{"version":3,"sources":["webpack:///webpack/bootstrap 7bddea2f78f6b930e41e","webpack:///./src/script.js"],"names":["gianniAccordion","transitionendEventName","i","el","document","createElement","transitions","hasOwnProperty","style","undefined","expand","resetHeight","ev","target","content","removeEventListener","transitionendevent","bindEvent","isOpen","requestAnimationFrame","transition","height","setExpandedAria","wrapper","classList","add","expandedClass","trySetTabIndex","fire","bind","addEventListener","remove","collapsedClass","scrollHeight","collapse","endTransition","setCollapsedAria","collapsedHeight","open","selected","selectedClass","close","toggle","oneAtATime","els","filter","e","forEach","index","tappableElements","querySelectorAll","defaultElements","setAttribute","querySelector","trigger","attachEvents","setDefaultData","events","openAtLandingIndex","setCustomData","data","keys","Object","length","setLandinData","eventName","callbacks","on","cb","push","constructor","call","elements","element"],"mappings":"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","file":"gianniAccordion.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7bddea2f78f6b930e41e","var gianniAccordion = (function () {\r\n  return class {\r\n\r\n    transitionendEventName() {\r\n      var i,\r\n        el = document.createElement('div'),\r\n        transitions = {\r\n          'transition': 'transitionend',\r\n          'OTransition': 'otransitionend',\r\n          'MozTransition': 'transitionend',\r\n          'WebkitTransition': 'webkitTransitionEnd'\r\n        };\r\n\r\n      for (i in transitions) {\r\n        if (transitions.hasOwnProperty(i) && el.style[i] !== undefined) {\r\n          return transitions[i];\r\n        }\r\n      }\r\n    }\r\n\r\n    expand(el) {\r\n      function resetHeight(ev) {\r\n        if (ev.target != el.content) return\r\n        el.content.removeEventListener(this.transitionendevent, bindEvent);\r\n\r\n        if (!el.isOpen) return\r\n\r\n        requestAnimationFrame(() => {\r\n          el.content.style.transition = '0';\r\n          el.content.style.height = 'auto';\r\n\r\n          requestAnimationFrame(() => {\r\n            el.content.style.height = null;\r\n            el.content.style.transition = null;\r\n\r\n            this.setExpandedAria(el.wrapper);\r\n            el.wrapper.classList.add(this.expandedClass);\r\n            this.trySetTabIndex(el.content, 0)\r\n\r\n            this.fire(\"elementOpened\", el);\r\n          });\r\n        });\r\n      }\r\n\r\n      var bindEvent = resetHeight.bind(this);\r\n      el.content.addEventListener(this.transitionendevent, bindEvent);\r\n\r\n      el.isOpen = true;\r\n      el.wrapper.classList.remove(this.collapsedClass);\r\n      el.content.style.height = el.content.scrollHeight + \"px\";\r\n    }\r\n\r\n    collapse(el) {\r\n\r\n      function endTransition(ev) {\r\n        if (ev.target != el.content) return\r\n        el.content.removeEventListener(this.transitionendevent, bindEvent);\r\n\r\n        if (el.isOpen) return\r\n\r\n        this.fire(\"elementClosed\", el);\r\n        this.setCollapsedAria(el.wrapper);\r\n        el.wrapper.classList.add(this.collapsedClass);\r\n        this.trySetTabIndex(el.content, -1)\r\n      }\r\n\r\n      var bindEvent = endTransition.bind(this);\r\n      el.content.addEventListener(this.transitionendevent, bindEvent);\r\n\r\n      el.isOpen = false;\r\n      el.wrapper.classList.remove(this.expandedClass);\r\n\r\n      requestAnimationFrame(() => {\r\n        el.content.style.transition = '0';\r\n        el.content.style.height = el.content.scrollHeight + \"px\";\r\n\r\n\r\n        requestAnimationFrame(() => {\r\n          el.content.style.transition = null;\r\n          el.content.style.height = this.collapsedHeight;\r\n        });\r\n      });\r\n    }\r\n\r\n    open(el) {\r\n      el.selected = true;\r\n      this.fire(\"elementSelected\", el);\r\n      this.expand(el);\r\n      el.wrapper.classList.add(this.selectedClass);\r\n    }\r\n\r\n    close(el) {\r\n      el.selected = false;\r\n      this.fire(\"elementUnselected\", el);\r\n      this.collapse(el);\r\n      el.wrapper.classList.remove(this.selectedClass);\r\n    }\r\n\r\n    toggle(el) {\r\n      if (el.selected) {\r\n        this.close(el);\r\n      } else {\r\n        this.open(el);\r\n\r\n        if (this.oneAtATime) {\r\n          this.els.filter(e => e != el && e.selected).forEach(e => {\r\n            this.close(e);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    trySetTabIndex(el, index) {\r\n      const tappableElements = el.querySelectorAll(this.defaultElements)\r\n      if (tappableElements) {\r\n        tappableElements.forEach(e => {\r\n          e.setAttribute('tabindex', index)\r\n        })\r\n      }\r\n    }\r\n\r\n    setExpandedAria(el){\r\n      el.querySelector(this.trigger).setAttribute('aria-expanded', 'true')\r\n      el.querySelector(this.content).setAttribute('aria-hidden', 'false')\r\n    }\r\n\r\n    setCollapsedAria(el){\r\n      el.querySelector(this.trigger).setAttribute('aria-expanded', 'false')\r\n      el.querySelector(this.content).setAttribute('aria-hidden', 'true')\r\n    }\r\n\r\n    attachEvents() {\r\n      this.els.forEach((el, i) => {\r\n        el.trigger.addEventListener(\"click\", this.toggle.bind(this, el));\r\n      });\r\n    }\r\n\r\n    setDefaultData() {\r\n      this.els = [];\r\n      this.events = {\r\n        'elementSelected': [],\r\n        'elementOpened': [],\r\n        'elementUnselected': [],\r\n        'elementClosed': []\r\n      };\r\n      this.transitionendevent = this.transitionendEventName();\r\n      this.oneAtATime = true;\r\n      this.selectedClass = \"selected\";\r\n      this.expandedClass = \"expanded\";\r\n      this.collapsedClass = \"collapsed\";\r\n      this.trigger = \"[data-accordion-element-trigger]\";\r\n      this.content = \"[data-accordion-element-content]\";\r\n      this.collapsedHeight = '0px';\r\n      this.defaultElements = ['a', 'button', 'input'];\r\n      this.openAtLandingIndex = -1\r\n    }\r\n\r\n    setCustomData(data) {\r\n      var keys = Object.keys(data);\r\n\r\n      for (var i = 0; i < keys.length; i++) {\r\n        this[keys[i]] = data[keys[i]];\r\n      }\r\n    }\r\n\r\n    setLandinData(el) {\r\n      el.classList.add(this.collapsedClass);\r\n      debugger\r\n      this.setCollapsedAria(el)\r\n    }\r\n\r\n    fire(eventName, el) {\r\n      var callbacks = this.events[eventName];\r\n      for (var i = 0; i < callbacks.length; i++) {\r\n        callbacks[i](el)\r\n      }\r\n    }\r\n\r\n    on(eventName, cb) {\r\n      if (!this.events[eventName]) return\r\n      this.events[eventName].push(cb);\r\n    }\r\n\r\n    constructor(data) {\r\n      this.setDefaultData();\r\n      this.setCustomData(data); // ES6 => Object.assign(this, data)\r\n      [].forEach.call(document.querySelectorAll(this.elements), (el, i) => {\r\n        this.els.push({\r\n          wrapper: el,\r\n          trigger: el.querySelector(this.trigger),\r\n          content: el.querySelector(this.content)\r\n        });\r\n        const element = this.els[i]\r\n        if (this.openAtLandingIndex !== i) {\r\n          element.content.style.height = this.collapsedHeight\r\n          this.setLandinData(el)\r\n        } else {\r\n          element.wrapper.classList.add(this.selectedClass)\r\n          element.wrapper.classList.add(this.expandedClass)\r\n          debugger\r\n          this.setExpandedAria(el);\r\n          element.selected = true\r\n          this.fire('elementSelected', element)\r\n        }\r\n      });\r\n\r\n      this.attachEvents();\r\n    }\r\n\r\n  }\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/script.js"],"sourceRoot":""}